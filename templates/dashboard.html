{% extends "base.html" %}

{% block page_content %}
<div class="main-content-grid">
    <div class="input-area">
        <div class="card">
            <h1>O que estÃ¡ na sua mente?</h1>
            <p>Escreva sua ideia, e a IA irÃ¡ criar um tÃ­tulo e gerar insights para vocÃª.</p>
            <form action="{{ url_for('add_note') }}" method="POST">
                <div class="form-group">
                    <textarea name="content" rows="10" placeholder="Ex: Um aplicativo que usa a cÃ¢mera para identificar plantas e sugerir cuidados..." required></textarea>
                </div>
                <button type="submit" class="btn btn-ai">Analisar e Salvar Ideia</button>
            </form>
        </div>
    </div>

    <div class="sidebar-notes">
        <h2>Suas Ideias</h2>
        <div class="notes-list-sidebar">
        {% if notes %}
            {% for note in notes %}
            <a href="{{ url_for('note_page', note_id=note.id) }}" class="sidebar-note-link">
                <div class="sidebar-note-item">
                    <div class="note-header">
                        <strong>{{ note.title }}</strong>
                        <form action="{{ url_for('delete_note', note_id=note.id) }}" method="POST" onsubmit="return confirm('Tem certeza?');">
                            <button type="submit" class="delete-btn">ğŸ—‘ï¸</button>
                        </form>
                    </div>
                    <p>{{ note.original_content | truncate(80) }}</p>
                </div>
            </a>
            {% endfor %}
        {% else %}
            <p>Suas ideias salvas aparecerÃ£o aqui.</p>
        {% endif %}
        </div>
    </div>
</div>
{% endblock %}